<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:l="sap.ui.layout">
    <!-- Guias de despacho y su respectivo detalle -->
    <IconTabFilter icon="sap-icon://supplier" key="GD" >
        <content>
            <SplitContainer
                id="SplitAppDemo"
                mode="ShowHideMode"
                initialDetail="detail"
                initialMaster="master">
                <!-- Seccion del Detalle de una guia seleccionada -->
                <detailPages>
                    <Page id="pageDetail" title="{i18n>titleDetailGuide} {guideModel>/Numero_guia}" >
                        <headerContent>
                            <!-- Boton para aÃ±adir los items seleccionados al bulto -->
                            <Button icon="sap-icon://add" type="Accept" text="{i18n>additems}" press="add"/>
                        </headerContent>
                        <Table id="idTableDetailGuide" updateFinished="validateSelected" mode="MultiSelect" items="{guideModel>/detail/}" noDataText="{i18n>noDetailGuide}" fixedLayout="false" alternateRowColors="true">
                            <!-- Cabezeras de la tabla -->
                            <columns>
                                <Column >
                                    <Text text="{i18n>item}" />
                                </Column>
                                <Column >
                                    <Text text="{i18n>cod_material}" />
                                </Column>
                                <Column >
                                    <Text text="{i18n>descrip}" />
                                </Column>
                                <Column >
                                    <Text text="{i18n>cant}" />
                                </Column>
                                <Column >
                                    <Text text="{i18n>precio}" />
                                </Column>
                                <Column >
                                    <Text text="{i18n>ceco}" />
                                </Column>
                            </columns>
                            <!-- Filas de la tabla, se hace una por cada item del array entregado en la propiedad "items" de Table -->
                            <items>
                                <ColumnListItem id="cell" selected="{guideModel>selected}">
                                    <cells>
                                        <Text text="{guideModel>Item}"/>
                                        <Text text="{guideModel>Codigo_materia}"/>
                                        <Text text="{guideModel>Descripcion}"/>
                                        <ObjectNumber
                                            number="{path:'guideModel>Cantidad'}"
                                            unit="{guideModel>UM}" />
                                        <ObjectNumber
                                            number="{path:'guideModel>Precio'}"
                                            unit="{guideModel>Moneda}" />
                                        <Text text="{guideModel>Ceco}"></Text>
                                    </cells>
                                </ColumnListItem>
                            </items>
                        </Table>
                    </Page>
                </detailPages>
                <!-- Seccion de Lista de guias -->
                <masterPages>
                    <Page id="page" title="{i18n>titleGD}">
                        <subHeader>
                            <!-- Buscador y filtro de guias -->
                            <OverflowToolbar>
                                <SearchField width="80%" placeholder="{i18n>search}" liveChange="onSearch"/>
                                <Button icon="sap-icon://filter" press="onFilter"></Button>                     
                            </OverflowToolbar>
                        </subHeader>
                        <content>
                            <!-- Lista de guias de despacho -->
                            <List id="idListGD" class="sapUiLargeMarginBottom" items="{path:'GD>/', sorter: {path:'Proveedor'}}" mode="SingleSelect" selectionChange="selectGD">
                                <items>
                                    <StandardListItem title="{GD>Proveedor}" description="{GD>Numero_guia}" info="{GD>Fecha}"></StandardListItem>
                                </items>
                            </List>
                        </content>
                    </Page>
                </masterPages>
            </SplitContainer>
        </content>
    </IconTabFilter>
</core:FragmentDefinition>